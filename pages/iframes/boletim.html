<!DOCTYPE html>
<html lang="pt_BR" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="author" content="Alexandre Vieira" />
    <meta name="description" content="Boletim Informativo da Igreja Adventista de Mafra." />
    <meta name="keywords" content="igreja, adventista, mafra, boletim, informativo" />
    <meta name="copyright" content="© 2025 ProfAlexV" />
    <title>Boletim Informativo</title>
    <link rel="stylesheet" href="../../css/styles.css">
    <link rel="stylesheet" href="../../css/boletim.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <!-- Popup para imagem ampliada -->
    <div id="imagePopup" class="popup">
        <div class="popup-wrapper">
            <div class="popup-content">
                <div class="popup-header">
                    <button class="popup-btn share-toggle" onclick="toggleShareButtons()">
                        <i class="fas fa-share-nodes"></i>
                    </button>
                    <span class="popup-close" onclick="closePopup()">&times;</span>
                </div>
                <img id="popupImg">
                <div class="share-buttons">
                    <button class="popup-btn share" onclick="compartilharFacebook()">
                        <i class="fab fa-facebook"></i>
                    </button>
                    <button class="popup-btn share" onclick="compartilharInstagram()">
                        <i class="fab fa-instagram"></i>
                    </button>
                    <button class="popup-btn share" onclick="compartilharWhatsapp()">
                        <i class="fab fa-whatsapp"></i>
                    </button>
                    <button class="popup-btn share" onclick="copiarLink()">
                        <i class="fas fa-link"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="carrossel">
            <img src="../../img/carrossel/Foto de profalexv.jpg" class="carrossel-img ativa" alt="Foto de profalexv"
                onclick="openPopup(this.src)">
            <img src="../../img/carrossel/Organize sua semana.png" class="carrossel-img" alt="Organize sua semana"
                onclick="openPopup(this.src)">
            <img src="../../img/carrossel/santa ceia .png" class="carrossel-img" alt="Santa Ceia"
                onclick="openPopup(this.src)">
            <button class="carrossel-btn esq" onclick="mudarImagem(-1)">&#10094;</button>
            <button class="carrossel-btn dir" onclick="mudarImagem(1)">&#10095;</button>
        </div>
        <div class="side-div">
            <iframe
                src="https://calendar.google.com/calendar/embed?src=4ea8baa4e97c24d08e3241f625e89fb00303f774b4920751e69f11e6f25eb84b%40group.calendar.google.com&ctz=America%2FSao_Paulo&mode=AGENDA"
                frameborder="0" scrolling="no"></iframe>
        </div>
    </div>

    <script>
        let atual = 0;
        function mostrarImagem(n) {
            const imgs = document.querySelectorAll('.carrossel-img');
            atual = (n + imgs.length) % imgs.length;
            imgs.forEach((img, i) => img.classList.toggle('ativa', i === atual));
        }
        function mudarImagem(delta) {
            mostrarImagem(atual + delta);
        }

        // Funções do popup
        function openPopup(imgSrc) {
            const popup = document.getElementById('imagePopup');
            const popupImg = document.getElementById('popupImg');
            popupImg.src = imgSrc;
            popup.style.display = 'block';
            document.body.classList.add('popup-open');
            // Parar o carrossel quando o popup estiver aberto
            clearInterval(carrosselInterval);
        }

        function closePopup() {
            const popup = document.getElementById('imagePopup');
            const shareButtons = popup.querySelector('.share-buttons');
            const shareToggle = popup.querySelector('.share-toggle');

            popup.style.display = 'none';
            document.body.classList.remove('popup-open');
            shareButtons.classList.remove('show');
            shareToggle.classList.remove('active');

            // Reiniciar o carrossel quando fechar o popup
            carrosselInterval = setInterval(() => mudarImagem(1), 4000);
        }

        function toggleShareButtons() {
            const popup = document.getElementById('imagePopup');
            const shareButtons = popup.querySelector('.share-buttons');
            const shareToggle = popup.querySelector('.share-toggle');

            shareButtons.classList.toggle('show');
            shareToggle.classList.toggle('active');
        }

        function compartilharFacebook() {
            const url = document.getElementById('popupImg').src;
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}`, '_blank');
        }

        function compartilharInstagram() {
            alert('Salve a imagem e compartilhe no Instagram');
        }

        function compartilharWhatsapp() {
            const url = document.getElementById('popupImg').src;
            window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(url)}`, '_blank');
        }

        function copiarLink() {
            const url = document.getElementById('popupImg').src;
            navigator.clipboard.writeText(url).then(() => {
                alert('Link copiado para a área de transferência!');
            }).catch(err => {
                console.error('Erro ao copiar link:', err);
            });
        }

        // Temporizador para troca automática de imagem a cada 4 segundos
        let carrosselInterval = setInterval(() => {
            mudarImagem(1);
        }, 4000);
    </script>
</body>

</html>